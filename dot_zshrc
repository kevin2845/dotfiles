# source ~/.bash_profile


# export NVM_DIR="$HOME/.nvm"
# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
# [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
source ~/Repos/zsh-autocomplete/zsh-autocomplete.plugin.zsh   
source ~/Repos/fast-syntax-highlighting/fast-syntax-highlighting.plugin.zsh
bindkey '\t' menu-complete "$terminfo[kcbt]" reverse-menu-complete
zstyle ':autocomplete:*' delay 0.5  # seconds (float)

LAST_REPO=""
cd() { 
    builtin cd "$@";
    git rev-parse 2>/dev/null;

    if [ $? -eq 0 ]; then
        if [ "$LAST_REPO" != $(basename $(git rev-parse --show-toplevel)) ]; then
        onefetch
        LAST_REPO=$(basename $(git rev-parse --show-toplevel))
        fi
    fi
}
#creates command 'sesh'
export PATH="~/.scripts/:$PATH"
export PATH="/usr/Python/3.11/bin/:$PATH"
alias sesh='bash ~/.scripts/tmux-sessionizer.sh'
alias cheat='bash ~/.scripts/tmux-cht.sh'
alias update='bash ~/.scripts/autoupdate.sh'
alias newssh='bash ~/.scripts/sshtmux.sh'
alias ls='lsd'
alias l='ls -l'
alias la='ls -a'
alias lla='ls -la'
alias lt='ls --tree'


alias kevpkg="$HOME/.scripts/install-packages.sh"
alias kevsrc='source $HOME/.bashrc'
alias kevupd='$HOME/.scripts/update.sh'
alias chap='chezmoi apply && kevsrc'

alias timeout='gtimeout'

alias tfsecrets='~/.scripts/terraform-secrets.sh'
# Sets up a Home tmux session (Don't know if I want this)
# if command -v tmux &> /dev/null && [ -n "$PS1" ] && [[ ! "$TERM" =~ screen ]] && [[ ! "$TERM" =~ tmux ]] && [ -z "$TMUX" ]; then
#   tmux a -t default || exec tmux new -s default && exit;
# fi



# Checks if in tmux, if is, loads config
if [ "$TERM_PROGRAM" = tmux ]; then
    tmux source ~/.config/tmux/.tmux.conf
    # git rev-parse 2>/dev/null;
    # if [ $? -eq 0 ]; then
    # onefetch
    # fi
else
pfetch
fi

export PATH="/Users/kevinlynch/.local/bin:$PATH"

# export EDITOR='vi'
export EDITOR='nvim'

eval "$(starship init zsh)"

# export FPATH="~/Developer/random-git/eza/completions/zsh:$FPATH"

# if type brew &>/dev/null; then
#     FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"
#     autoload -Uz compinit
#     compinit
# fi

source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh
export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"

# pnpm
export PNPM_HOME="/Users/kevinlynch/Library/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac
# pnpm end
#

